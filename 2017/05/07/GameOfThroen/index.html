<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"><title>GOT 词云图</title><link rel="alternate" type="application/rss+xml" title="啦e啦啦" href="/atom.xml"><link href="/css/main.css?v=4.2.2" rel="stylesheet"><link rel="stylesheet" href="/css/highlight.css?v=4.2.2"><link rel="stylesheet" href="/css/zoom.css?v=4.2.2"><meta name="twitter:card" content="summary"><meta name="twitter:site" content="@rem_rin_rin"><meta name="twitter:title" content="GOT 词云图"><meta name="description" content="分析GOT文本， 利用jieba中文分词库和wordcloud来绘制词云图。
import jieba.analyse

from wordcloud import WordCloud

from P"><meta name="twitter:description" content="分析GOT文本， 利用jieba中文分词库和wordcloud来绘制词云图。
import jieba.analyse

from wordcloud import WordCloud

from P"></head><body><header class="header"><h1 class="site-name"><a href="/">e.w.</a></h1><ul class="nav"><li><a href="/about.html">about</a></li><li><a href="/saber.html">saber</a></li></ul></header><section class="centered post-page"><article class="post"><h2 class="post-title">GOT 词云图</h2><script></script><div class="post-content markdown-body"><p>分析GOT文本， 利用jieba中文分词库和wordcloud来绘制词云图。</p>
<pre><code>import jieba.analyse

from wordcloud import WordCloud

from PIL import Image

import codecs

import matplotlib.pyplot as plt

import numpy as np
from collections import Counter

get_ipython().magic(&#39;matplotlib&#39;)

f = codecs.open(&#39;/home/jasd/python/game_of_throne.txt&#39;, &#39;r&#39;, &#39;utf-8&#39;)
content = f.read()
f.close()

mask = np.array(Image.open(&#39;/home/jasd/python/ml/saber.jpg&#39;))

word = jieba.cut(content, cut_all=True)
wordpro = &#39;&#39;.join(word)

wordcloud = WordCloud(font_path=&#39;./fonts/wqy-microhei.ttc&#39;, margin=5, mask=mask, max_words=1000)
wordcloud = wordcloud.generate(wordpro)

plt.figure()
plt.imshow(wordcloud, interpolation=&#39;bilinear&#39;)
plt.axis(&quot;off&quot;)
plt.show()


# 关键词权重

words = jieba.analyse.extract_tags(content, topK=100, withWeight=True)

for word, freq in words:
    print(word, freq)
</code></pre><p>如图；<br><img src="https://ooo.0o0.ooo/2017/05/07/590efdc75f2c5.png" alt="saber"></p>
</div><div id="disqus_thread" class="disqus"></div><script>window.isPost = true;
var disqus_config = function () {
  this.page.url = 'https://blog.whilte.cn/2017/05/07/GameOfThroen/'; // Replace PAGE_URL with your page's canonical URL variable
  this.page.identifier = '2017/05/07/GameOfThroen/'; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};</script><noscript>Please enable JavaScript to view the<a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript></article></section><footer class="footer"><div class="centered"><a href="https://creativecommons.org/licenses/by-nc-nd/4.0/deed.zh" class="hide-on-mobile">CC BY-NC-ND 4.0</a><span class="hide-on-mobile">&nbsp;</span><span>&copy;&nbsp;</span><a href="https://github.com/jianaosiding">Ewen</a><span class="hide-on-mobile">&nbsp;</span><a href="https://github.com/egoist/blog" class="hide-on-mobile">Read the source code.</a></div></footer><div style="display:none"></div><script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
ga('create', 'UA-91031424-1', 'auto');
ga('send', 'pageview');</script><script async src="https://www.google-analytics.com/analytics.js"></script><script src="/js/highlight.min.js?v=4.2.2"></script><script src="/js/zoom.js?v=4.2.2"></script><script>window.hexoLayout = "post"</script><script src="/js/app.js?v=4.2.2"></script></body></html>